<!doctype html><html><head><title>Namedtuples</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/navigators/navbar.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/author/image_al_hu6aa485cfd64a98f54b411e3a0324b396_178285_42x0_resize_q75_box.jpg><link rel=stylesheet href=/css/style.css><meta name=description content="Namedtuples"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/><img src=/images/author/image_al_hu6aa485cfd64a98f54b411e3a0324b396_178285_42x0_resize_q75_box.jpg>Anna-Lena Popkes</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/images/author/image_al_hu6aa485cfd64a98f54b411e3a0324b396_178285_42x0_resize_q75_box.jpg class=d-none id=main-logo>
<img src=/images/author/image_al_hu6aa485cfd64a98f54b411e3a0324b396_178285_42x0_resize_q75_box.jpg class=d-none id=inverted-logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><input type=text placeholder=Search data-search id=search-box><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/news/>Personal news</a></li><li><a href=/posts/my_path_to_ml/>My path to machine learning</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/books/>Books</a><ul><li><a href=/posts/books/reading_list/>Personal reading List</a></li><li><a href=/posts/books/deep_work/>Deep work</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/machine_learning/>Machine Learning</a><ul><li><a href=/posts/machine_learning/bayesian_linear_regression/>Bayesian linear regression</a></li><li><a href=/posts/machine_learning/bayesian_linear_regression_2/>Bayesian linear regression 2</a></li><li><a href=/posts/machine_learning/kl_divergence/>KL Divergence</a></li><li><a href=/posts/machine_learning/principal_component_analysis/>Principal component analysis (PCA)</a></li><li><a href=/posts/machine_learning/support_vector_machines/>Support vector machines</a></li><li><a href=/posts/machine_learning/variational_inference/>Variational Inference</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/python/>Python</a><ul class=active><li><a href=/posts/python/mocking/>Mocking</a></li><li><a href=/posts/python/packaging_tools/>Packaging tools</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/python/magical_universe/>Magical Universe</a><ul class=active><li><a href=/posts/python/magical_universe/day_1_start/>Start</a></li><li><a href=/posts/python/magical_universe/day_1_magical_universe/>The Tales of Castle Kilmere</a></li><li><a href=/posts/python/magical_universe/day_1_first_post_oop/>Object-oriented programming</a></li><li><a href=/posts/python/magical_universe/day_2_types_of_methods/>Types of methods</a></li><li><a href=/posts/python/magical_universe/day_3_type_annotations/>Type annotations</a></li><li><a href=/posts/python/magical_universe/day_4_to_string_conversion/>To-string conversion</a></li><li><a href=/posts/python/magical_universe/day_5_decorators/>Decorators</a></li><li><a href=/posts/python/magical_universe/day_6_properties/>Properties</a></li><li><a href=/posts/python/magical_universe/day_7_underscore_patterns/>Underscore patterns</a></li><li><a href=/posts/python/magical_universe/day_8_extending_universe/>Extending the universe</a></li><li><a href=/posts/python/magical_universe/day_9_duck_typing/>Duck Typing</a></li><li><a class=active href=/posts/python/magical_universe/day_10_11_namedtuples/>Namedtuples</a></li><li><a href=/posts/python/magical_universe/day_12_to_15_abcs/>Abstract Base Classes</a></li><li><a href=/posts/python/magical_universe/day_16_to_18_data_classes/>Data classes</a></li><li><a href=/posts/python/magical_universe/day_19_immutable_data_classes/>Immutable data classes</a></li><li><a href=/posts/python/magical_universe/day_20_decorators_in_classes/>Decorators in classes</a></li><li><a href=/posts/python/magical_universe/day_21_if_main/>if __name__ == "__main__"</a></li><li><a href=/posts/python/magical_universe/day_22_to_24_context_managers/>Context managers</a></li><li><a href=/posts/python/magical_universe/day_25_to_28_pytest/>Testing with pytest</a></li><li><a href=/posts/python/magical_universe/day_29_to_31_iterators/>Iterators</a></li><li><a href=/posts/python/magical_universe/day_34_multisets/>Multisets</a></li><li><a href=/posts/python/magical_universe/day_37_extending_universe/>Extending the universe II</a></li><li><a href=/posts/python/magical_universe/day_43_to_45_exception_classes/>Exception classes</a></li><li><a href=/posts/python/magical_universe/day_46_functools_wraps/>functools.wraps</a></li><li><a href=/posts/python/magical_universe/day_47_to_48_defaultdict/>Defaultdict</a></li><li><a href=/posts/python/magical_universe/day_49_to_50_config_files/>Config files</a></li><li><a href=/posts/python/magical_universe/2018-09-16-blog-post-day-51/>Wrap up</a></li></ul></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/software_engineering/>Software Engineering</a><ul><li><a href=/posts/software_engineering/containers/>Intro to containers</a></li><li><a href=/posts/software_engineering/docker/>Intro to Docker</a></li><li><a href=/posts/software_engineering/virtual_machines/>Intro to virtual machines</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://alpopkes.com/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/image_al.jpg><h5 class=author-name>Anna-Lena Popkes</h5><p>August 1, 2018</p></div><div class=title><h1>Namedtuples</h1></div><div class=post-content id=post-content><p><strong>Topics:</strong> Immutable classes, namedtuples<br><strong>Updated</strong> 2020-10-04</p><h2 id=tuples>Tuples</h2><p>Before looking at namedtuples, we should review what a tuple is. In Python, a tuple is a simple data structure that can be used for grouping arbitrary objects. Important to know is that tuples are <em>immutable</em>. That means that once a tuple has been created, it can not be changed anymore. We already used tuples in our Magical Universe. For example, we defined the <code>pet</code> attribute of the <code>Pupil</code> class to be a tuple:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>pet <span style=color:#f92672>=</span> (<span style=color:#e6db74>&#39;name&#39;</span>, <span style=color:#e6db74>&#39;type&#39;</span>)
</span></span><span style=display:flex><span>lissys_pet <span style=color:#f92672>=</span> (<span style=color:#e6db74>&#39;Ramses&#39;</span>, <span style=color:#e6db74>&#39;cat&#39;</span>)
</span></span></code></pre></div><p>The <code>pet</code> tuple has two fields: <code>name</code> and <code>type</code> that can be accessed using their integer index. Once we create a tuple like <code>lissys_pet</code> we can&rsquo;t change it anymore. For example, running</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>lissys_pet[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Twiggles&#39;</span>
</span></span></code></pre></div><p>throws a <code>TypeError: 'tuple' object does not support item assignment</code>.</p><h2 id=namedtuples>Namedtuples</h2><p>As their name suggests, namedtuples are a variation (or rather extension) of plain tuples. In particular, namedtuples allow us to name the fields of the tuple. This makes it much easier to access the individual fields. Also, it makes our code more readable. In the plain tuple example above, we could access the values stored in the tuple only by using integer indices, as <code>lissys_pet[0]</code> or <code>lissys_pet[1]</code>. When having only two fields this is not too bad. But with more than three fields things become messy.</p><p>Creating a namedtuple is easy. There are two kinds of namedtuples we can use: <code>collections.namedtuple</code> or <code>typing.NamedTuple</code>. When using <code>collections.namedtuple</code> our pet tuple would be defined as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> namedtuple
</span></span><span style=display:flex><span>Pet <span style=color:#f92672>=</span> namedtuple(<span style=color:#e6db74>&#39;Pet&#39;</span>, [<span style=color:#e6db74>&#39;name, type&#39;</span>])
</span></span><span style=display:flex><span>lissys_pet <span style=color:#f92672>=</span> Pet(<span style=color:#e6db74>&#39;Ramses&#39;</span>, <span style=color:#e6db74>&#39;cat&#39;</span>)
</span></span></code></pre></div><p>We can access the fields of the namedtuple using the field names or their indices:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>name <span style=color:#f92672>=</span> lissys_pet[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>name <span style=color:#f92672>=</span> lissys_pet<span style=color:#f92672>.</span>name
</span></span></code></pre></div><p><code>typing.NamedTuple</code> has a slightly different syntax and allows us to specify the type of each field. It also allows us to add methods to the class (although this is possible with <code>collections.namedtuple</code>, too, it&rsquo;s a little more complex). Another advantage of the namedtuple classes is that they come with an implementation of the <code>__repr__</code> method. So we don&rsquo;t have to create that ourselves anymore but get a nice string representation of our objects right away (as you can see in the example below).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> NamedTuple
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Pet</span>(NamedTuple):
</span></span><span style=display:flex><span>    name: str
</span></span><span style=display:flex><span>    type: str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lissys_pet <span style=color:#f92672>=</span> Pet(<span style=color:#e6db74>&#39;Ramses&#39;</span>, <span style=color:#e6db74>&#39;cat&#39;</span>)
</span></span><span style=display:flex><span>print(lissys_pet)
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> Pet(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Ramses&#39;</span>, type<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;cat&#39;</span>)
</span></span></code></pre></div><p>You can read more about <code>typing.NamedTuple</code> in the <a href=https://docs.python.org/3/library/typing.html>Python docs</a>.</p><h2 id=dark-army-class>Dark Army class</h2><p>We don&rsquo;t want our pupils, professors and ghosts to be immutable. A suitable group of people for an immutable class are the Dark Army members. Why? Because once you become a member of the Dark Army there is now way back. So let&rsquo;s create a NamedTuple for them!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> NamedTuple
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DarkArmyMember</span>(NamedTuple):
</span></span><span style=display:flex><span>    name: str
</span></span><span style=display:flex><span>    birthyear: str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@property</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>leader</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#e6db74>&#39;DarkArmyMember&#39;</span>:
</span></span><span style=display:flex><span>        master_odon <span style=color:#f92672>=</span> DarkArmyMember(<span style=color:#e6db74>&#39;Master Odon&#39;</span>, <span style=color:#ae81ff>1971</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> master_odon
</span></span></code></pre></div><p>From now on we can easily create new Dark Army members:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>keres <span style=color:#f92672>=</span> DarkArmyMember(<span style=color:#e6db74>&#39;Keres Fulford&#39;</span>, <span style=color:#ae81ff>1983</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(keres)
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> DarkArmyMember(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Keres Fulford&#39;</span>, birthyear<span style=color:#f92672>=</span><span style=color:#ae81ff>1983</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(keres<span style=color:#f92672>.</span>leader)
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> DarkArmyMember(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Master Odon&#39;</span>, birthyear<span style=color:#f92672>=</span><span style=color:#ae81ff>1971</span>)
</span></span></code></pre></div><h2 id=data-classes>Data classes</h2><p>Note: When using Python 3.7 we can also use <a href=https://docs.python.org/3/library/dataclasses.html>dataclasses</a> for creating immutable classes! Data classes are discussed in more detail on <a href=http://alpopkes.com/posts/2018/08/coding-challenge-day-16-to-18/>day 16 to 18</a>.</p></div><div class=btn-improve-page><a href=https://github.com/zotroneneis/zotroneneis.github.io/edit/main/content/posts/python/magical_universe/day_10_11_namedtuples.md><i class="fas fa-code-branch"></i>
Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/python/magical_universe/day_12_to_15_abcs/ class="btn btn-outline-info"><span><i class="fas fa-chevron-circle-left"></i> Prev</span><br><span>Abstract Base Classes</span></a></div><div class="col-md-6 next-article"><a href=/posts/python/magical_universe/day_9_duck_typing/ class="btn btn-outline-info"><span>Next <i class="fas fa-chevron-circle-right"></i></span><br><span>Duck typing, EAFP principle</span></a></div></div><hr></div></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#tuples>Tuples</a></li><li><a href=#namedtuples>Namedtuples</a></li><li><a href=#dark-army-class>Dark Army class</a></li><li><a href=#data-classes>Data classes</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About</a></li><li class=nav-item><a class=smooth-scroll href=#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=#appearances>Talks & Podcasts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email: </span><span>popkes@gmx.net</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=#><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png>
Toha</a></div><div class="col-md-4 text-center">© 2020-2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/js/jquery-3.4.1.min.js></script><script src=/js/popper.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/navbar.js></script><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad()</script></body></html>